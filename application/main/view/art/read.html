<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.1.4.min.js">
    </script>
    <style>
    </style>
    <script type="text/javascript">//--获取视频缩略图--
    function vload(obj) {
        $(obj).removeAttr("poster");
        var vimg = $("<img/>")[0];
        captureImage(obj, vimg);
        $(obj).after(vimg);
        $(obj).remove();
    };
    var scale = 0.8; //缩放
    function captureImage(video, output) { //截图
        try {
            var videocanvas = $("<canvas/>")[0];
            videocanvas.width = video.videoWidth * scale;
            videocanvas.height = video.videoHeight * scale;
            videocanvas.getContext('2d').drawImage(video, 0, 0, videocanvas.width, videocanvas.height);
            output.src = videocanvas.toDataURL("image/png");
            delete videocanvas;
        } catch(e) {
            output.src = "加载动画.gif";
        }

    };
    //--获取视频缩略图--
    </script>
</head>
<body>
<video src="http://api.myfreego.cn/uploads/20170608/222743fe262a4dd72d52db4fa3583942.jpg" preload="metadata" onloadeddata='vload(this)' poster="加载动画.gif">
</video>
</body>

</html>