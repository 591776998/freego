<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>test1</title>
    <style>

    </style>
</head>
<body>
<div class="inner">
    <div class="lists"></div>
</div>
<script src="__PUBLIC__/temp/js/jquery.min.js"> </script>
<script type="text/javascript" src="__PUBLIC__/temp/js/dropload.min.js"></script>
<script>
    var  data = {
        lists:[
            {
                link:'1',
                pic:'#',
                title:'CS',
                date:'NOW'
            },
            {
                link:'1',
                pic:'#',
                title:'CS',
                date:'NOW'
            },
            {
                link:'1',
                pic:'#',
                title:'CS',
                date:'NOW'
            },
            {
                link:'1',
                pic:'#',
                title:'CS',
                date:'NOW'
            }
        ]
    };
</script>
<script>
    $(function() {

        // dropload
        var dropload = $('.inner').dropload({
            autoLoad:false,
            domUp : {
                domClass   : 'dropload-up',
                domRefresh : '<div class="dropload-refresh">↓下拉刷新</div>',
                domUpdate  : '<div class="dropload-update">↑释放更新</div>',
                domLoad    : '<div class="dropload-load"><span class="loading"></span>加载中...</div>'
            },
            domDown : {
                domClass   : 'dropload-down',
                domRefresh : '<div class="dropload-refresh">↑上拉加载更多</div>',
                domLoad    : '<div class="dropload-load"><span class="loading"></span>加载中...</div>',
                domNoData  : '<div class="dropload-noData">暂无数据</div>'
            },
            loadUpFn : function(me){
                var result = '';
                for(var i = 0; i < data.lists.length; i++){
                    result +=   '<a class="item opacity" href="'+data.lists[i].link+'">'
                            +'<img src="'+data.lists[i].pic+'" alt="">'
                            +'<h3>'+data.lists[i].title+'</h3>'
                            +'<span class="date">'+data.lists[i].date+'</span>'
                            +'</a>';
                }

                $('.lists').append(result);
                // 每次数据加载完，必须重置
                dropload.resetload();


            },
            loadDownFn : function(me){
                var result = '';
                for(var i = 0; i < data.lists.length; i++){
                    result +=   '<a class="item opacity" href="'+data.lists[i].link+'">'
                            +'<img src="'+data.lists[i].pic+'" alt="">'
                            +'<h3>'+data.lists[i].title+'</h3>'
                            +'<span class="date">'+data.lists[i].date+'</span>'
                            +'</a>';
                }

                $('.lists').append(result);
                // 每次数据加载完，必须重置
                dropload.resetload();
            }
        });


    });
</script>
</body>
</html>